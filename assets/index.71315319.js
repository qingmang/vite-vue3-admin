var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{D as r}from"./dynamic-table.e550ac7f.js";import{y as n,F as s,h as d,by as c,d as m,r as i,b as p,c as u,z as b,Q as f,bx as v,ae as y}from"./vendor.c17881da.js";import"./index.d17e73d8.js";const g=["王路飞","王大蛇","李白","刺客伍六七"],h=["西装","领带","裙子","包包"],P=Array.from({length:30}).map(((e,a)=>({id:a+1,date:(new Date).toLocaleString(),name:g[~~(4*Math.random())],clothes:h[~~(4*Math.random())],price:~~(1e3*Math.random()),gender:~~(2*Math.random()),status:~~(2*Math.random())}))),I=[{title:"姓名",align:"center",dataIndex:"name",formItemProps:{required:!0}},{title:"性别",align:"center",dataIndex:"gender",formItemProps:{component:"Select",componentProps:({schemaFormRef:e,formModel:a})=>({options:[{label:"男",value:1},{label:"女",value:0}],onChange(){var t;e.updateSchema({field:"clothes",componentProps:{options:(t=a.gender,1===t?[{label:"西装",value:1},{label:"领带",value:0}]:0===t?[{label:"裙子",value:1},{label:"包包",value:0}]:[])}}),a.clothes=void 0}})},bodyCell:({record:e})=>n(s,null,[["女","男"][e.gender]])},{title:"衣服",align:"center",dataIndex:"clothes",formItemProps:{component:"Select"}},{title:"价格",align:"center",dataIndex:"price",formItemProps:{component:"Select"},bodyCell:({record:e})=>n(s,null,[[e.price],d("元")])},{title:"状态",align:"center",dataIndex:"status",formItemProps:{component:"Select",componentProps:{request:()=>new Promise((e=>{setTimeout((()=>{e([{label:"已售罄",value:0},{label:"热卖中",value:1}])}),1500)}))}},bodyCell:({record:e})=>n(c,{color:1==e.status?"red":"default"},{default:()=>[["已售罄","热卖中"][e.status]]})}],x=d(" 查询表格-查询表单使用示例 "),w=m({setup(e){const s=i(),d=e=>{var a;e&&(null==(a=s.value)||a.getQueryFormRef().updateSchema([{field:"price",componentProps:{options:[{label:"0-199",value:"0-199"},{label:"200-999",value:"200-999"}]}}]))},c=async e=>new Promise((r=>{setTimeout((()=>{r(((e,r)=>{for(var n in r||(r={}))t.call(r,n)&&l(e,n,r[n]);if(a)for(var n of a(r))o.call(r,n)&&l(e,n,r[n]);return e})({list:P},e))}),500)}));return(e,a)=>(p(),u("div",null,[n(f(v),{message:"查询表格",type:"info","show-icon":""},{description:b((()=>[x])),_:1}),n(f(y),{title:"查询表单基本使用示例",style:{"margin-top":"20px"}},{default:b((()=>[n(f(r),{ref_key:"dynamicTableRef",ref:s,size:"small",bordered:"","data-request":c,columns:f(I),rowKey:"heroid",onToggleAdvanced:d},null,8,["columns"])])),_:1})]))}});export{w as default};
