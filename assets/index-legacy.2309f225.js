System.register(["./dynamic-table-legacy.5a1652bb.js","./index-legacy.db1a9531.js","./vendor-legacy.38f67009.js"],(function(e){"use strict";var t,n,a,i,l,r,s,c,d,o,u,b,f,y,h,g;return{setters:[function(e){t=e.D},function(e){n=e.y,a=e.J,i=e.K},function(e){l=e.an,r=e.o,s=e.bY,c=e.d,d=e.r,o=e.b,u=e.A,b=e.Q,f=e.y,y=e.by,h=e.h,g=e.F}],execute:function(){function m(){return n({url:a.list,method:"get"})}e("default",c({name:"SystemMonitorOnline",setup(e){const c=d();((e={})=>{const t=i().client,n=new Map,a=()=>{Object.keys(e).forEach((a=>{if(t){const i=e[a];n.set(a,i),t.subscribe(a,i)}}))};l((()=>t),a),r(a),s((()=>{Object.keys(e).forEach((e=>{t&&n.has(e)&&t.unsubscribe(e,n.get(e))}))}))})({connect(){var e;null===(e=c.value)||void 0===e||e.refreshTable()},online(){var e;null===(e=c.value)||void 0===e||e.refreshTable()},offline(){var e;null===(e=c.value)||void 0===e||e.refreshTable()}});const v=[{title:"#",dataIndex:"id",width:80,align:"center",hideInSearch:!0},{title:"用户名",dataIndex:"username",align:"center",bodyCell:({record:e})=>f(g,null,[f("span",{class:"pr-16px"},[e.username]),e.isCurrent&&f(y,{color:"red"},{default:()=>[h("当前")]})])},{title:"登录IP",dataIndex:"ip",width:140,align:"center"},{title:"登录时间",dataIndex:"time",align:"center"},{title:"操作系统",dataIndex:"os",align:"center"},{title:"浏览器",dataIndex:"browser",align:"center"},{title:"操作",dataIndex:"$action",align:"center",actions:({record:e})=>[{label:"下线",auth:"sys.online.kick",disabled:e.disable,popConfirm:{title:"确定下线该用户吗?",onConfirm:()=>p(e)}}]}],p=async e=>{var t;await(t={id:e.id},n({url:a.kick,method:"post",data:t}))};return(e,n)=>(o(),u(b(t),{ref_key:"dynamicTableRef",ref:c,"header-title":"在线用户","title-tooltip":"这是真实操作，请不要随意将其他用户踢下线。","data-request":b(m),columns:v},null,8,["data-request"]))}}))}}}));
